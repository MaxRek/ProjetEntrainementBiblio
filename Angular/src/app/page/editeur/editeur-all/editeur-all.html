<body>

<h1>Liste des éditeurs</h1>



<div class="table-container">
<table>
    <thead>
    <tr>
        <td>id</td>
        <td>nom</td>
        <td>pays</td>
        <td>boutons</td>
    </tr>
    </thead>

    <tbody>
    <tr *ngFor="let editeur of editeurs$ | async; trackBy: trackEditeur">
        <td>{{editeur.id}}</td>
        <td>{{editeur.nom}}</td>
        <td>{{editeur.pays}}</td>
        <td>
            <button (click)="editEditeur(editeur)">Modifier</button>
            <button (click)="deleteEditeur(editeur.id)">Supprimer</button>
        </td>
    </tr>
    </tbody>
</table>
</div>

<h1>Ajout et modification</h1>
<form (ngSubmit)="createOrModifyEditeur()" [formGroup]="editeurForm">
  <div>
    <label for="nom">Nom</label>
    <input id="nom" type="text" formControlName="nom" />

    @if (nomCtrl.hasError('required') && nomCtrl.touched) {
      <span>Le nom est obligatoire</span>
    }
  </div>

  <div>
    <label for="pays">Pays</label>
    <input id="pays" type="text" formControlName="pays" />

    @if (paysCtrl.hasError('required') && paysCtrl.touched) {
      <span>Le pays est obligatoire</span>
    }
</div>

@if (editingEditeur) {
    <input type="submit" [disabled]="editeurForm.invalid" value="Modifier" />
} @else {
    <input type="submit" [disabled]="editeurForm.invalid" value="Créer" />
}
</form>

</body>